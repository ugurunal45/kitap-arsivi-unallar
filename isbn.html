<script>
async function kitapBul() {
  const isbn = document.getElementById("isbnInput").value.trim();
  const sonuc = document.getElementById("sonuc");

  if (!isbn) {
    sonuc.innerHTML = "ISBN girilmedi";
    return;
  }

  sonuc.innerHTML = "AranÄ±yor...";

  try {
    const url = `https://openlibrary.org/search.json?isbn=${isbn}`;
    const response = await fetch(url);
    const data = await response.json();

    if (!data.docs || data.docs.length === 0) {
      sonuc.innerHTML = "Kitap bulunamadÄ±";
      return;
    }

    // 1ï¸âƒ£ TÃ¼rkÃ§e kayÄ±t ara
    let kitap = data.docs.find(d =>
      d.language && d.language.includes("tur")
    );

    // 2ï¸âƒ£ Yoksa ilk sonucu al
    if (!kitap) {
      kitap = data.docs[0];
    }

    sonuc.innerHTML = "ğŸ“– " + kitap.title;

  } catch (err) {
    console.error(err);
    sonuc.innerHTML = "BaÄŸlantÄ± hatasÄ±";
  }
}
</script>
